<!DOCTYPE html>
<html id="main-html">

<head>
    <meta charset="UTF-8">
    <title>Pi Wall</title>
    <link rel="stylesheet" href="css/pi-wall.css" />
    <link rel="stylesheet" href="css/weather-icons.css" />
    <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic:100,200,400,700,800" rel="stylesheet">

    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
</head>

<body id="main-body" class="full-width-height">
    <div id="main-container" class="full-width-height">
        <div id="info-row">
            <div id="datetime-panel">
                <div id="datetime">
                    <span id="date">Date</span><span id="divider">|</span><span id="time">Time</span>
                </div>
            </div>
            <div id="weather-panel">
                <div id="weather">
                    <span id="current-container">...</span>
                    <span id="forecast-container">...</span>
                </div>
            </div>
        </div>
        <div id="calendar-row">
            <webview webpreferences="zoomFactor=3.0" autoresize id="calendar-webview" class="full-width-height" src="https://calendar.google.com/calendar/r"></webview>
        </div>
    </div>

    <script>
        // You can also require other files to run in this process
        require('./js/info-bar.js');

        const logger = require("electron-timber");
        const webview = document.querySelector('#calendar-webview');
        webview.addEventListener('dom-ready', () => {
            webview.focus();

            //Zoom in a bit so that the text is bigger
            webview.setZoomFactor(1.5);

            setTimeout(function() {
                logger.log("Sending key '4' to force custom Calendar view");

                webview.sendInputEvent({
                    type: "char",
                    keyCode: "4"
                });
            }, 2000);

        });
    </script>
</body>

</html>